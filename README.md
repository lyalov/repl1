Домашнее задание к занятию «Репликация и масштабирование. Часть 1»
Ялова Л .В

Задание 1
На лекции рассматривались режимы репликации master-slave, master-master, опишите их различия.

Ответить в свободной форме.



ОТВЕТ1 
Различия между режимами репликации: master-slave и master-master на примере MySQL
В MySQL репликация — это процесс копирования данных с одного источника на другой  он же реплика. Основные режимы — master-slave и master-master — отличаются архитектурой, направлением потока данных и сценариями использования.

 Master-Slave ведущий — ведомый
Как работает:
Один сервер выступает в роли master (ведущего) — на нём происходят все записи (INSERT, UPDATE, DELETE).
Один или несколько серверов — slave (ведомых) — получают копию данных с master и только читают (или почти только читают).
Направление репликации:
Однонаправленная: master → slave

Пример использования:
Разгрузка master от запросов на чтение: веб-приложение читает данные с slave, а пишет — на master.
Резервное копирование: делаем бэкап со slave, не нагружая master.
Отказоустойчивость  ,  при падении master можно вручную поднять slave как новый master.

Простота настройки и управления
Защита от ошибочных записей на slave , по умолчанию slave только читает
Slave не принимает запись → нельзя масштабировать запись
При потере master требуется ручное вмешательство для переключения


Мaster-Master (ведущий — ведущий)
Как работает:
Два или больше серверов — оба являются master и slave одновременно.
Каждый сервер принимает запись, и изменения реплицируются в обе стороны.
Направление репликации:
Двунаправленная: master1 <--> master2
Пример использования:
Высокая доступность: если один сервер упал, второй продолжает принимать и чтение, и запись.
Географическое распределение: один master в Европе, другой — в Азии.
Плюсы:
Быстрое переключение при отказе
Минусы:
Сложность может возниикнуть если будет конфликт  то   может  произойти   одновременная запись  в одну и ту же таблицу на обоих серверах.




Задание 2
Выполните конфигурацию master-slave репликации, примером можно пользоваться из лекции.
Приложите скриншоты конфигурации, выполнения работы: состояния и режимы работы серверов.




ответ 2

Конфиги двух серверов :
master.cnf
```bash
[mysqld]
server-id=1
log-bin=mysql-bin
binlog-format=row
gtid-mode=ON
enforce-gtid-consistency=O
```
slave.cnf

```bash
[mysqld]
server-id=2
log-bin=mysql-bin
binlog-format=row
gtid-mode=ON
enforce-gtid-consistency=ON
read-only=ON
```

slave-status1.png

show_variables_like.png

show_variables_like_read.png

select_master.png

select_slave.png